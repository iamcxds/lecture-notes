\chapter{Realization and Invariant}\label{chap:realization} % (fold)

We have seen how to define a generalized space via sheaf, which is data of testing spaces map into it. In this chapter we reconstruct space from the sheaf. That is a (fully) faithful\footnote{Fully means surjective on morphism, faithful means injective on morphism.} functor of \emph{realization} $R: \Sh(\cC) \to \mathcal{S} $ to some concrete category of some kind of spaces.

On the other hand, sometimes it is also useful to construct functor $I: \Sh(\cC) \to \mathcal{V} $ to a simpler category $\mathcal{V}$ (value), even thought we lose some information. This is called \emph{invariant}.

\section{Ringed Space}

Recall for $\cD$ cocomplete, if we have a realization functor on test objects $R:\cC \to \cD$, we can extend it to all presheaf$R:\PSh(\cC)\to \cD$ by using category of elements 

\[
  R:\cF \in \PSh(\cC) \mapsto \int_\cC \cF\times R \in \cD
\]
This means we only need to consider the realization functor at level of test objects $\cC$.

Recall for the simplicial set, smooth set, algebraic set, we can have realization functor in topological space $\Top$:

\begin{example}
 \begin{enumerate}
  \item For simplex category, we can take the underlying space $|-|:\Delta \to \Top$, thus we have $|-|: \PSh(\Delta) \to \Top$
  \item Similarly for Cartesian spaces, we can take the underlying space $|-|:\Cart \to \Top$, thus we have $|-|: \PSh(\Cart) \to \Top$
  \item For the category of ring $\Ring$, we can take spectrum $\Spec:\Ring^\op \to \Top$: The spectrum of a ring $A$ is the topological space $\Spec A$ whose points are prime ideals of $A$, topological base is given by $f\in A, D(f):= \{\mathfrak{p}\in \Spec A \mid f\notin \mathfrak{p}\}$. Thus we have $\Spec: \PSh(\Ring^\op) \to \Top$.
 \end{enumerate} 
\end{example}

\begin{remark}[Spectral spaces]
Notice that the spectrum of ring form an unusual space, it is only $T_0$. So not all points are closed. It's helpful to think in following ways: It contains closed points, which is usual points; then for each irreducible algebraic curve $C$, we have a corresponding generic point $\xi_C$. Then for every closed point $x$ on that curve, $\xi_C$ is in the neighborhood of $x$, i.e. $x\in \bar{\{\xi_C\}}$; Similarly, for each irreducible surface $S$, we have a generic point $\xi_S$, such that for the curve it contains, we have $\xi_C\in \bar{\{\xi_S\}}$.

Another interesting fact is the spectrum is a filter limit of finite $T_0$ space: You can consider a finite stratification of space by points, curve, surface, etc., then take the limit by have more and more of them.
\end{remark}

But this is not yet what we want: the realization functor is not fully, that is, for example there are much more continuous morphisms that smooth morphisms for manifold. To solve this problem, we need to update the target category.

The spaces we consider they all have function ring on it, and the morphisms of function rings will reflect the property of morphisms of space

\begin{exercise}
Consider a map $f:\bR \to \bR^2$,
\begin{enumerate}
\item if $f$ is continuous, this induces a ring homomorphism $f^*:C(\bR^2)\to C(\bR)$.
\item if $f$ is smooth, this induces a ring homomorphism $f^*:C^\infty(\bR^2)\to C^\infty(\bR)$.
\item if $f$ is algebraic, this induces a ring homomorphism $f^*:\bR[x,y]\to \bR[t]$.
\end{enumerate}
\end{exercise}
This motivate us of following definition:
\begin{definition}[Locally Ringed Space]
A \emph{locally ringed space} is a pair $(X, \mathcal{O}_X)$ where:
\begin{itemize}
\item $X$ is a topological space,
\item $\mathcal{O}_X \in \Sh(X,\Ring)$ is a sheaf of rings on $X$,
\item for every point $x \in X$, the stalk $\mathcal{O}_{X,x}$ is a local ring (i.e., it has a unique maximal ideal).
\end{itemize}

A morphism of locally ringed spaces
\[
(f, f^\#) : (X, \mathcal{O}_X) \longrightarrow (Y, \mathcal{O}_Y)
\]
consists of:
\begin{itemize}
\item a continuous map $f : X \to Y$,
\item a morphism of sheaves of rings
\[
    f^\# : \mathcal{O}_Y \longrightarrow f_* \mathcal{O}_X,
\]
such that for every $x \in X$, the induced map on stalks
\[
f^\#_x : \mathcal{O}_{Y,f(x)} \longrightarrow \mathcal{O}_{X,x}
\]
is a local homomorphism (i.e., it sends the maximal ideal of $\mathcal{O}_{Y,f(x)}$ into the maximal ideal of $\mathcal{O}_{X,x}$).
\end{itemize}

\end{definition}

Even thought we first ask $f$ to be continuous, to define $f^\#$ it turns out $f$ have to be the map preserve some structure.

\begin{example}
\begin{enumerate}
\item \textbf{Topological Space with Continuous Functions:}  
For any topological space $X$, $(X, C_X)$, where $C_X$ is the sheaf of continuous real-valued functions, is a locally ringed space. Each stalk is a local ring of germs of continuous functions.

\item \textbf{Smooth Manifold:}  
Let $M$ be a smooth manifold. The pair $(M, C^\infty_M)$, where $C^\infty_M$ is the sheaf of smooth real-valued functions on $M$, is a locally ringed space. Each stalk consists of germs of smooth functions at a point, forming a local ring.

For smooth manifolds $M$ and $N$ and a smooth map $f : M \to N$, we have:
\[
  (f,f^\#):(M, \mathcal{C}^\infty_M) \longrightarrow (N, \mathcal{C}^\infty_N)
\]
where $f^\#$ sends a smooth function $h$ on $N$ to $h \circ f$ on $M$.

\item \textbf{Complex Analytic Space:}  
For a complex manifold $X$, the pair $(X, \mathcal{O}_X)$, where $\mathcal{O}_X$ is the sheaf of holomorphic functions, is a locally ringed space. Each stalk is a local ring of germs of holomorphic functions.

For complex manifolds $X$ and $Y$ and a holomorphic map $f : X \to Y$, the morphism:
\[
(f,f^\#):(X, \mathcal{O}_X) \longrightarrow (Y, \mathcal{O}_Y)
\]
where $f^\#$ sends a holomorphic function $h$ on $Y$ to $h \circ f$ on $X$.

\item \textbf{Affine Scheme:}  
For a commutative ring $A$, the spectrum $\Spec A$ with the Zariski topology and the structure sheaf $\mathcal{O}_{\Spec A}$ is a locally ringed space. Each stalk $\mathcal{O}_{\mathrm{Spec}(A), \mathfrak{p}}$ is the localization $A_{\mathfrak{p}}$, which is a local ring.

For rings $A$ and $B$ and a ring homomorphism $\varphi : A \to B$, we get a morphism of locally ringed spaces:
\[
(f,f^\#):(\mathrm{Spec}(B), \mathcal{O}_{\mathrm{Spec}(B)}) \longrightarrow (\mathrm{Spec}(A), \mathcal{O}_{\mathrm{Spec}(A)})
\]
given by:
\begin{itemize}
\item Continuous map: $f : \mathrm{Spec}(B) \to \mathrm{Spec}(A)$, $f(\mathfrak{q}) = \varphi^{-1}(\mathfrak{q})$.
\item Sheaf morphism: $f^\#$ induced by $\varphi$ on localizations.
\end{itemize}
\end{enumerate}
\end{example}


\section{Sheaf and Vector Bundle}

% chapter Realization (end)
